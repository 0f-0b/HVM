@main = x & @tu0 ~ (* x)

// casting to u24
@tu0 = (* {n x}) & @tu1 ~ (* x) &  2.15 ~ $([to_u24] n) // 2
@tu1 = (* {n x}) & @tu2 ~ (* x) & -1.15 ~ $([to_u24] n) // 0
@tu2 = (* {n x}) & @tu3 ~ (* x) &  0.15 ~ $([to_u24] n) // 0
@tu3 = (* {n x}) & @tu4 ~ (* x) & -1234 ~ $([to_u24] n) // 16775982 (reinterpreting bits)
@tu4 = (* {n x}) & @tu5 ~ (* x) & +1234 ~ $([to_u24] n) // 1234
@tu5 = (* {n x}) & @tu6 ~ (* x) &  4321 ~ $([to_u24] n) // 4321
@tu6 = (* {n x}) & @tu7 ~ (* x) &  +inf ~ $([to_u24] n) // 16777215
@tu7 = (* {n x}) & @tu8 ~ (* x) &  -inf ~ $([to_u24] n) // 0
@tu8 = (* {n x}) & @ti0 ~ (* x) &  +NaN ~ $([to_u24] n) // 0

// casting to i24
@ti0 = (* {n x}) & @ti1 ~ (* x) &  2.15    ~ $([to_i24] n) // +2
@ti1 = (* {n x}) & @ti2 ~ (* x) & -1.15    ~ $([to_i24] n) // -1
@ti2 = (* {n x}) & @ti3 ~ (* x) &  0.15    ~ $([to_i24] n) // +0
@ti3 = (* {n x}) & @ti4 ~ (* x) & -1234    ~ $([to_i24] n) // -1234
@ti4 = (* {n x}) & @ti5 ~ (* x) & +1234    ~ $([to_i24] n) // +1234
@ti5 = (* {n x}) & @ti6 ~ (* x) &  4321    ~ $([to_i24] n) // +4321
@ti6 = (* {n x}) & @ti7 ~ (* x) & 16775982 ~ $([to_i24] n) // -1234 (reinterpreting bits)
@ti7 = (* {n x}) & @ti8 ~ (* x) &  +inf    ~ $([to_i24] n) // -1 ??
@ti8 = (* {n x}) & @ti9 ~ (* x) &  -inf    ~ $([to_i24] n) // +0 ??
@ti9 = (* {n x}) & @tf0 ~ (* x) &  +NaN    ~ $([to_i24] n) // +0

// casting to f24
@tf0 = (* {n x}) & @tf1 ~ (* x) &  2.15    ~ $([to_f24] n) //  2.15
@tf1 = (* {n x}) & @tf2 ~ (* x) & -1.15    ~ $([to_f24] n) // -1.15
@tf2 = (* {n x}) & @tf3 ~ (* x) &  0.15    ~ $([to_f24] n) //  0.15
@tf3 = (* {n x}) & @tf4 ~ (* x) & -1234    ~ $([to_f24] n) // -1234.0
@tf4 = (* {n x}) & @tf5 ~ (* x) & +1234    ~ $([to_f24] n) // +1234.0
@tf5 = (* {n x}) & @t   ~ (* x) & 16775982 ~ $([to_f24] n) // 16775936.0

@t = *
